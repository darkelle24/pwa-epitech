"use strict";(self.webpackChunkclepsydre_front=self.webpackChunkclepsydre_front||[]).push([[700],{7700:(q,u,n)=>{n.r(u),n.d(u,{RegisterModule:()=>A});var f=n(5349),m=n(858),i=n(4006),e=n(4650),h=n(1481),v=n(5670),y=n(6895),s=n(9549),d=n(4859),g=n(4144),c=n(7392),p=n(1572);function Z(t,a){1&t&&(e.TgZ(0,"mat-error"),e._uU(1," Please enter an username "),e.qZA())}function C(t,a){1&t&&(e.TgZ(0,"mat-error"),e._uU(1," Please enter an email "),e.qZA())}function T(t,a){1&t&&(e.TgZ(0,"mat-error"),e._uU(1," Please enter a password "),e.qZA())}function R(t,a){1&t&&(e.TgZ(0,"button",16),e._uU(1,"Register"),e.qZA())}function U(t,a){1&t&&e._UZ(0,"mat-spinner",17)}const I=function(t){return{redirectURL:t}};let M=(()=>{class t{constructor(o,r,l,P){this.router=o,this.titleService=r,this.AuthSevice=l,this._activatedRoute=P,this.isLoading=!1,this.hide=!0,this.Form=new i.cw({email:new i.NI(void 0,[i.kI.required]),username:new i.NI(void 0,[i.kI.required]),password:new i.NI(void 0,[i.kI.required])}),this.matcher=new b}ngOnInit(){this.titleService.setTitle("Register | PWA Epitech")}getQuerry(){return this._activatedRoute.snapshot.queryParamMap.get("redirectURL")||"/"}register(){!this.Form.valid||(this.isLoading=!0,this.AuthSevice.register(this.Form.controls.email.value,this.Form.controls.username.value,this.Form.controls.password.value).subscribe({next:o=>{this.isLoading=!1;const r=this._activatedRoute.snapshot.queryParamMap.get("redirectURL")||"/";this.router.navigateByUrl(r)},error:o=>{this.isLoading=!1}}))}goTo(o){this.router.navigate([o])}}return t.\u0275fac=function(o){return new(o||t)(e.Y36(m.F0),e.Y36(h.Dx),e.Y36(v.g),e.Y36(m.gz))},t.\u0275cmp=e.Xpm({type:t,selectors:[["app-register"]],decls:33,vars:18,consts:[[1,"page-login"],[1,"login","page"],[1,"center"],[1,"title"],["id","myForm",1,"formulaire",3,"formGroup","ngSubmit"],["appearance","standard","color","white",1,"form",2,"font-size","15px"],["matInput","","placeholder","Ex. pat","type","name","autocomplete","on","name","username","required","",3,"errorStateMatcher","formControl"],[4,"ngIf"],["matInput","","placeholder","Ex. pat@example.com","type","email","autocomplete","on","name","email","required","",3,"errorStateMatcher","formControl"],["matInput","","autocomplete","on","name","new-password","required","",3,"type","formControl"],["type","button","mat-icon-button","","matSuffix","",3,"click"],["mat-raised-button","","class","login-butt","type","submit","form","myForm",4,"ngIf"],[2,"display","flex","justify-content","center","align-items","center"],["diameter","30",4,"ngIf"],[1,"to-register"],["routerLink","/login",3,"queryParams"],["mat-raised-button","","type","submit","form","myForm",1,"login-butt"],["diameter","30"]],template:function(o,r){1&o&&(e.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"h1",3),e._uU(4,"LOGIN"),e.qZA()(),e.TgZ(5,"form",4),e.NdJ("ngSubmit",function(){return r.register()}),e.TgZ(6,"mat-form-field",5)(7,"mat-label"),e._uU(8,"Username"),e.qZA(),e._UZ(9,"input",6),e.YNc(10,Z,2,0,"mat-error",7),e.qZA(),e.TgZ(11,"mat-form-field",5)(12,"mat-label"),e._uU(13,"Email"),e.qZA(),e._UZ(14,"input",8),e.YNc(15,C,2,0,"mat-error",7),e.qZA(),e.TgZ(16,"mat-form-field",5)(17,"mat-label"),e._uU(18,"Password"),e.qZA(),e._UZ(19,"input",9),e.TgZ(20,"button",10),e.NdJ("click",function(){return r.hide=!r.hide}),e.TgZ(21,"mat-icon"),e._uU(22),e.qZA()(),e.YNc(23,T,2,0,"mat-error",7),e.qZA(),e.TgZ(24,"div",2),e.YNc(25,R,2,0,"button",11),e.TgZ(26,"div",12),e.YNc(27,U,1,0,"mat-spinner",13),e.qZA()()(),e.TgZ(28,"div",14)(29,"span"),e._uU(30,"Need to "),e.TgZ(31,"a",15),e._uU(32," login"),e.qZA()()()()()),2&o&&(e.xp6(5),e.Q6J("formGroup",r.Form),e.xp6(4),e.Q6J("errorStateMatcher",r.matcher)("formControl",r.Form.controls.username),e.xp6(1),e.Q6J("ngIf",r.Form.controls.email.hasError("required")),e.xp6(4),e.Q6J("errorStateMatcher",r.matcher)("formControl",r.Form.controls.email),e.xp6(1),e.Q6J("ngIf",r.Form.controls.email.hasError("required")),e.xp6(4),e.Q6J("type",r.hide?"password":"text")("formControl",r.Form.controls.password),e.xp6(1),e.uIk("aria-label","Hide password")("aria-pressed",r.hide),e.xp6(2),e.Oqu(r.hide?"visibility_off":"visibility"),e.xp6(1),e.Q6J("ngIf",r.Form.controls.password.hasError("required")),e.xp6(2),e.Q6J("ngIf",!r.isLoading),e.xp6(2),e.Q6J("ngIf",r.isLoading),e.xp6(4),e.Q6J("queryParams",e.VKq(16,I,r.getQuerry())))},dependencies:[y.O5,i._Y,i.Fj,i.JJ,i.JL,i.Q7,i.oH,i.sg,s.TO,s.KE,s.hX,s.R9,d.lW,g.Nt,c.Hw,p.Ou,m.yS],styles:[".login[_ngcontent-%COMP%]{width:25vw}.form[_ngcontent-%COMP%]{width:100%}.center[_ngcontent-%COMP%]{display:flex;width:100%;justify-content:center;align-items:center}.title[_ngcontent-%COMP%]{margin-bottom:0}.login-butt[_ngcontent-%COMP%]{width:50%;margin-top:1.25em}.to-register[_ngcontent-%COMP%]{margin-top:1em;color:var(--text_color_sec)}a[_ngcontent-%COMP%]{color:var(--text_color)!important}.page-login[_ngcontent-%COMP%]{width:100%;height:100%;display:flex;align-items:center;justify-content:center}"]}),t})();class b{isErrorState(a,o){return!!(a&&a.invalid&&(a.dirty||a.touched||o&&o.submitted))}}const F=[{path:"",component:M}];let A=(()=>{class t{}return t.\u0275fac=function(o){return new(o||t)},t.\u0275mod=e.oAB({type:t}),t.\u0275inj=e.cJS({imports:[f.m,s.lN,d.ot,g.c,c.Ps,p.Cq,m.Bz.forChild(F)]}),t})()}}]);